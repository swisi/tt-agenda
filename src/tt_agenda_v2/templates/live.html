{% extends 'base.html' %}

{% block content %}
  <section id="live-view">
    <h2>Live-Ansicht</h2>
    <div id="current-activity" class="card" style="padding:1rem;">
      <div id="current-activity-inner" style="display:flex;align-items:center;justify-content:space-between;gap:1rem">
        <div>
          <div id="activity-name">Keine aktive Aktivität</div>
          <div id="activity-meta" style="color:var(--muted);font-size:0.9rem">Live</div>
        </div>
        <div id="activity-timer">--:--</div>
      </div>
    </div>
    <div class="card" style="margin-top:1rem;">
      <h3>Geplante Aktivitäten</h3>
      <div class="activities"></div>
    </div>
  </section>

  <link rel="stylesheet" href="/static/css/live.css">
  <script>
    // expose WS token to client when configured
    {% if request.app.state.config.WS_AUTH_TOKEN %}
    window.WS_AUTH_TOKEN = "{{ request.app.state.config.WS_AUTH_TOKEN }}";
    {% endif %}
  </script>
  <script src="/static/js/live.js" defer></script>

{% endblock %}
